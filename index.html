<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Parallel Poisson</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <header>
    <nav class="blue lighten-1" role="navigation">
      <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">15-418 Final Project</a>
        <ul class="right hide-on-med-and-down">
          <li><a href="#">Proposal</a></li>
          <!--<li><a href="#">Check Point</a></li>-->
          <!--<li><a href="#">Final Write-Up</a></li>-->
        </ul>
  
        <ul id="nav-mobile" class="side-nav">
          <li><a href="#">Proposal</a></li>
          <!--<li><a href="#">Check Point</a></li>-->
          <!--<li><a href="#">Final Write-Up</a></li>-->
        </ul>
        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
      </div>
    </nav>
  </header>

  <main>
    
    <div class="container">
      <div class="section">
        <div class="row">
          <div class="col s12 m12">
            <h3 class="header center">Parallel Discrete Poisson Equation Solver</h3>
            <h5 class="center">With Applications in Seamless Image Cloning</h5>
            <p class="center">Casey Fischer and Udaya Malik</p> 
          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="summary" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Summary</h4>
            <p>We are going to implement a parallel discrete Poisson equation solver, to apply to seamless image cloning, in CUDA on the NVIDIA GPUs in the Gates clusters.</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="background" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Background</h4>
            
            <p>Digital compositing is the process of combining multiple images into 
            one final image, with the goal of creating a realistic image.  Directly 
            overlaying a foreground image over a background image without further 
            processing often results in unrealistic images due to differences between 
            factors such as the images’ color, lighting, and contrast, as shown in 
            the image below.  The goal of <b>seamless image cloning</b> is to allow 
            foreground images to be seamlessly integrated into the background by 
            taking the gradients of the foreground and background images into account, 
            creating a more natural-looking composition.</p>
            
            <img class="responsive-img" src="./images/example2.png"/>
            <p>One common method for achieving realistic results is through a method 
            called <b>Poisson blending</b>.  Given the image gradient of the foreground, we 
            can determine the new value for a pixel in the background by finding a 
            value that minimizes the difference between the gradient of the new image
            and the gradient of the background.</p>
            
            <img class="responsive-img" src="./images/interpolation.png"/>
            
            <p>The above image shows the general approach of guided interpolation 
            used in Poisson blending, using the following notation: "An unknown 
            function <i>f</i> interpolates the domain Ω the destination function 
            <i>f*</i>, under guidance of vector field <b>v</b>, which might be or 
            not the gradient field of a source function <i>g</i>."  In the context
            of the seamless image cloning problem, we use the gradient of the 
            foreground image as <b>v</b> to guide the computation to the new
            pixel values in the Ω region in the background image.</p>
            
            <p>Finding the interpolant function <i>f</i> requires finding the solution 
            to a minimization problem, whose solution is the unique solution of a related discrete
            Poisson equation with Dirichlet boundary counditions. The solutions to these equations, 
            described in <a href="#resources">"Poisson Image Editing,"</a> are the fundamental basis 
            of Poisson image editing. Three systems of discrete Poisson equations are solved for each of 
            the color channels in each pixel.  This technique allows us to create 
            more believable composite images, like the one shown below.</p>
            
            <img class="responsive-img" src="./images/example3.png" />

            <p>We plan to create a parallel implementation of a discrete Poisson equation solver, 
            which we can then apply to the problem of seamless image cloning, and 
            potentially other related algorithms. The algorithms commonly used to 
            solve these systems of equations are intrinsically iterative, and thus 
            extremely computationally heavy. As a result, they are only used to  
            clone smaller regions (approximately 60,000 pixels). Speeding up the 
            implementation of the Poisson equation solver will allow us to process 
            images faster, especially for larger regions of interest.</p>
            
            <p>Once we have a parallel discrete Poisson equation solver, we can easily implement
            the seamless image cloning algorithm.  First we preprocess the input images,
            creating a mask to target a region in the foreground image, and a mask to 
            indicate the destination region in the background image.  Then, we 
            generate a sparse linear system to be solved by the discrete Poisson
            solver.  Finally, we blend the color channels of each pixel to obtain
            the final result.</p>

            <p>Graphics source: <a href="#resources">"Poisson Image Editing"</a></p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="challenges" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Challenges</h4>
            <p>Our initial and biggest challenge is understanding the algorithm and math 
            behind the discrete Poisson equation solver.  Neither of us have any prior 
            experience working with computational photography algorithms, so we'll face a 
            significant initial investment learning about all the underlying machinery of 
            solving these systems of equations efficiently and implementing the algorithms.
            One particular challenge we foresee in attempting to parallelize a solver is 
            dividing the workload among CUDA threads.  Given the dependencies that seem to 
            exist between the matrix rows and columns, as well as between iterations, 
            the iterative nature of most solvers may pose as a bottleneck. 
            Further, we anticipate that there will be some communication tradeoffs between 
            threads in this implementation if we divide the workload of each iteration among
            many different threads.</p>

          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="resources" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Resources</h4>
            <p>We intend to use the GHC machines equipped with NVIDIA GPUs.  We plan to study and make use of the algorithms proposed in the following papers.</p>
            <ul class="collection">
              <li class="collection-item"><a class="light-blue-text text-lighten-1" href="https://www.cs.jhu.edu/~misha/Fall07/Papers/Perez03.pdf" target=blank>“Poisson Image Editing”</a> by Patrick Perez, Michael Gangnet, and Andrew Blake (2003)</li>
              <li class="collection-item"><a class="light-blue-text text-lighten-1" href="http://www.cs.columbia.edu/cg/pdfs/28_GPUSim.pdf" target=blank>"Sparse Matrix Solverson the GPU: Conjugate Gradients and Multigrid"</a> by Jeff Bolz, Ian Farmer, Eitan Grinspun, and Peter Schroder (2003)</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="goals" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Goals & Deliverables</h4>
            <p>We plan to achieve the following goals by the end of the project:</p>
            <ol>
              <li>A competitive sequential implementation of a discrete Poisson equation solver</li>
              <li>A parallel implementaiton of a discrete Poisson equation solver in CUDA</li>
              <li>An algorithm that applies our solver to seamless image cloning</li>
            </ol>
            
            <p>At the project's end, we plan to be able to show:</p>
            <ol>
              <li>An analysis of the performance the parallel implementation achieved relative to the sequential version</li>
              <li>A collection of images created by the seamless cloning algorithm </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="platform" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Platform Choice</h4>
            <p>We will be using CUDA for this project as CUDA is essentially built 
            to deal with graphics. We intend to use the GHC45 machine containing an 
            NVIDIA GTX 480 GPU to test our implementation. We chose this machine because 
            the workload for these algorithms deals with only a reasonable number of 
            pixels, which will always be a small subset of the total number pixels 
            in the images.  Also, we're interested in seeing the kind of speedup
            we can achieve by leveraging our knowledge of the GPU architecture.</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div id="schedule" class="section scrollspy">
        <div class="row">
          <div class="col s12 m12">
            <h4>Schedule</h4>
            <table class="highlight">
              <thead>
                <tr>
                  <th data-field="week">Week</th>
                  <th data-field="plans">Plans</th>
                </tr>
              </thead>
      
              <tbody>
                <tr>
                  <td>Apr 1 - 8</td>
                  <td>Research and implement serial version of discrete Poisson equation solver</td>
                </tr>
                <tr>
                  <td>Apr 8 - 15</td>
                  <td>Research, implement and iterate CUDA implementation of solver</td>
                </tr>
                <tr>
                  <td>Apr 15 - 22</td>
                  <td>Debug, refine, and analyze performance of implementations</td>
                </tr>
                <tr>
                  <td>Apr 22 - 29</td>
                  <td>Apply Poisson Equation solver to seamless image cloning algorithm</td>
                </tr>
                <tr>
                  <td>Apr 29 - May 5</td>
                  <td>Debug and refine.  Stretch: Extend to other related image editing algorithms</td>
                </tr>
                <tr>
                  <td>May 5 - 9</td>
                  <td>Finalize presentation and write-up</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="page-footer blue darken-2">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">15-418 Final Project</h5>
          <h6 class="white-text">Parallel Poisson Equation Solver</h6>
          <ul>
            <li class="white-text">Casey Fischer (cjfische)</li>
            <li class="white-text">Udaya Malik (umalik)</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Made by <a class="orange-text text-lighten-3" href="http://materializecss.com" target=blank>Materialize</a>
      </div>
    </div>
  </footer>


  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>

  </body>
</html>
